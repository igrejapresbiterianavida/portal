<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Igreja Presbiteriana Vida - Uma comunidade de f√©, esperan√ßa e amor em Campinas-SP">
  <meta name="keywords" content="igreja, presbiteriana, campinas, culto, f√©, cristo">
  <meta name="theme-color" content="#1A4731">
  
  <title>Igreja Presbiteriana Vida | Campinas-SP</title>
  
  <!-- Favicons e √çcones PWA -->
  <link rel="icon" type="image/png" href="assets/midia/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/svg+xml" href="assets/midia/favicon.svg">
  <link rel="shortcut icon" href="assets/midia/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/midia/apple-touch-icon.png">
  
  <!-- PWA Meta Tags -->
  <meta name="application-name" content="IPV - Igreja Presbiteriana Vida">
  <meta name="apple-mobile-web-app-title" content="IPV">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="mobile-web-app-capable" content="yes">
  
  <!-- Microsoft Tiles -->
  <meta name="msapplication-TileImage" content="assets/icons/ipvida.png">
  <meta name="msapplication-TileColor" content="#1A4731">
  <meta name="msapplication-config" content="browserconfig.xml">
  
  <!-- CSS -->
  <link rel="stylesheet" href="css/globais.css">
  <link rel="stylesheet" href="css/site.css">
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  
  <!-- Alpine.js -->
  <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/collapse@3.x.x/dist/cdn.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  
  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  
  <!-- Supress√£o de erros do VLibras/Unity (DEVE vir antes do VLibras) -->
  <script>
    (function() {
      var _onerror = window.onerror;
      window.onerror = function(msg, src, line, col, err) {
        if (msg && (
          String(msg).toLowerCase().indexOf('unity') !== -1 ||
          String(msg).toLowerCase().indexOf('script error') !== -1 ||
          String(msg).toLowerCase().indexOf('vlibras') !== -1 ||
          (src && String(src).toLowerCase().indexOf('vlibras') !== -1)
        )) {
          return true; // Suprime o erro completamente
        }
        return _onerror ? _onerror(msg, src, line, col, err) : false;
      };
    })();
  </script>
  
  <!-- VLibras - Carrega ap√≥s a p√°gina -->
  <script>
    // Carregar VLibras ap√≥s DOM pronto para evitar conflitos
    document.addEventListener('DOMContentLoaded', function() {
      var script = document.createElement('script');
      script.src = 'https://vlibras.gov.br/app/vlibras-plugin.js';
      script.onload = function() {
        if (window.VLibras && window.VLibras.Widget) {
          new window.VLibras.Widget('https://vlibras.gov.br/app');
          console.log('‚úÖ VLibras carregado e inicializado');
        }
      };
      document.head.appendChild(script);
    });
  </script>
  
  <!-- EmailJS -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
</head>
<body x-data="aplicacao()">
  
  <!-- ==================== SISTEMA DE AVISOS POP-UP ==================== -->
  <div x-data="sistemaAvisosPopup()" x-cloak>
    <!-- Modal de Avisos -->
    <div 
      x-show="mostrarModal && avisoAtual" 
      class="aviso-popup-overlay"
      x-transition:enter="transition ease-out duration-300"
      x-transition:enter-start="opacity-0"
      x-transition:enter-end="opacity-100"
    >
      <div 
        class="aviso-popup-modal" 
        :class="getTipoClasse()"
        @click.away="fecharAviso()"
      >
        <!-- Indicador de m√∫ltiplos avisos -->
        <div x-show="avisos.length > 1" class="aviso-contador">
          <span x-text="(indiceAtual + 1) + ' de ' + avisos.length"></span>
        </div>
        
        <!-- Cabe√ßalho -->
        <div class="aviso-popup-header">
          <div class="aviso-icone">
            <i :class="getTipoIcone()"></i>
          </div>
          <h3 x-text="avisoAtual?.titulo"></h3>
          <button @click="fecharAviso()" class="aviso-fechar" aria-label="Fechar">
            <i class="bi bi-x-lg"></i>
          </button>
        </div>
        
        <!-- Conte√∫do -->
        <div class="aviso-popup-body">
          <div x-html="avisoAtual?.conteudo"></div>
          
          <!-- Imagem se houver -->
          <img 
            x-show="avisoAtual?.imagem_url" 
            :src="avisoAtual?.imagem_url" 
            :alt="avisoAtual?.titulo"
            class="aviso-imagem"
          >
        </div>
        
        <!-- Rodap√© com a√ß√µes -->
        <div class="aviso-popup-footer">
          <button @click="marcarComoLido()" class="botao botao-primario">
            <i class="bi bi-check2"></i>
            Entendi, n√£o mostrar novamente
          </button>
          <button @click="fecharAviso()" class="botao botao-secundario">
            Fechar
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- ==================== NAVBAR ==================== -->
  <nav class="navbar">
    <div class="navbar-container">
      <!-- LINHA √öNICA: User | Notifica√ß√µes | Logo | Menu -->
      
      <!-- 1. Sistema de Autentica√ß√£o (esquerda) -->
      <div class="navbar-auth" x-data="authNavbar()">
        <!-- N√£o logado - Mostrar sauda√ß√£o e bot√£o de login -->
        <div x-show="!estaLogado" class="auth-section">
          <span class="user-greeting">Ol√° visitante!</span>
          <button type="button" @click="irParaLogin()" class="login-button">
            <i class="bi bi-box-arrow-in-right"></i>
            <span>Entrar</span>
          </button>
        </div>
        
        <!-- Logado - Mostrar dropdown do usu√°rio -->
        <div x-show="estaLogado" class="user-dropdown" @click.away="fecharDropdown()">
          <button 
            class="user-button" 
            @click="toggleDropdown()"
          >
            <img 
              :src="usuario?.avatar || usuario?.avatar_url || `https://ui-avatars.com/api/?name=${usuario?.nome}&background=1A4731&color=fff&size=128`" 
              :alt="usuario?.nome" 
              class="user-avatar"
              @error="usuario.avatar = `https://ui-avatars.com/api/?name=${usuario?.nome}&background=1A4731&color=fff&size=128`"
            >
            <span class="user-name" x-text="saudacao"></span>
            <i class="bi bi-chevron-down" :class="{ 'rotate-180': dropdownAberto }"></i>
          </button>
          
          <div 
            class="dropdown-content" 
            :class="{ 'show': dropdownAberto }"
          >
            <!-- Meu Perfil - para todos os usu√°rios logados -->
            <a href="pagina/perfil.html">
              <i class="bi bi-person-circle"></i>
              Meu Perfil
            </a>
            
            <!-- Link para Dashboard (apenas membros) -->
            <div x-show="usuario?.tipo === 'membro'">
              <a href="#eventos-internos" @click="scrollToSection('eventos-internos')">
                <i class="bi bi-calendar-event"></i>
                Eventos Internos
              </a>
              <a href="#grupos-whatsapp" @click="scrollToSection('grupos-whatsapp')">
                <i class="bi bi-whatsapp"></i>
                Grupos WhatsApp
              </a>
              <a href="#recursos-membros" @click="scrollToSection('recursos-membros')">
                <i class="bi bi-file-text"></i>
                Recursos para Membros
              </a>
            </div>
            
            <!-- Link para √°rea administrativa (apenas administra√ß√£o) -->
            <div x-show="usuario?.tipo === 'administracao'">
              <a href="#" @click.prevent="irParaAdmin()">
                <i class="bi bi-gear"></i>
                Painel Administrativo
              </a>
            </div>
            
            <!-- Logout para todos -->
            <a href="#" @click.prevent="logout()" class="logout">
              <i class="bi bi-box-arrow-right"></i>
              Sair
            </a>
          </div>
        </div>
      </div><!-- navbar-auth !-->
      
      <!-- 2. Sistema de Notifica√ß√µes (apenas para usu√°rios logados) -->
      <div class="navbar-notificacoes" x-data="sistemaNotificacoes()" :class="{ 'usuario-logado': usuarioLogado }" x-cloak>
        <button 
          class="notificacao-btn" 
          @click="dropdownAberto = !dropdownAberto"
          :class="{'tem-notificacoes': naoLidas > 0}"
        >
          <i class="bi bi-bell"></i>
          <span x-show="naoLidas > 0" class="notificacao-badge" x-text="naoLidas > 99 ? '99+' : naoLidas"></span>
        </button>
        
        <!-- Dropdown de Notifica√ß√µes -->
        <div 
          class="notificacao-dropdown" 
          x-show="dropdownAberto" 
          @click.away="dropdownAberto = false"
          x-transition
        >
          <div class="notificacao-header">
            <h4>Notifica√ß√µes</h4>
            <button x-show="naoLidas > 0" @click="marcarTodasComoLidas()" class="btn-texto">
              Marcar todas como lidas
            </button>
          </div>
          
          <div class="notificacao-lista">
            <template x-if="carregando">
              <div class="notificacao-loading">
                <i class="bi bi-arrow-repeat spin"></i>
                Carregando...
              </div>
            </template>
            
            <template x-if="!carregando && notificacoes.length === 0">
              <div class="notificacao-vazia">
                <i class="bi bi-bell-slash"></i>
                <p>Nenhuma notifica√ß√£o</p>
              </div>
            </template>
            
            <template x-for="notif in notificacoes.slice(0, 5)" :key="notif.id">
              <div 
                class="notificacao-item" 
                :class="{'nao-lida': !notif.lida}"
                @click="abrirNotificacao(notif)"
              >
                <div class="notificacao-icone" :class="'tipo-' + notif.tipo">
                  <i class="material-icons" x-text="obterIcone(notif.tipo)"></i>
                </div>
                <div class="notificacao-conteudo">
                  <strong x-text="notif.titulo"></strong>
                  <p x-text="notif.mensagem"></p>
                  <span class="notificacao-tempo" x-text="formatarTempo(notif.created_at)"></span>
                </div>
              </div>
            </template>
          </div>
          
          <div class="notificacao-footer">
            <a href="pagina/notificacoes.html" class="btn-texto">
              Ver todas as notifica√ß√µes
            </a>
          </div>
        </div>
      </div><!-- navbar-notificacoes !-->
      
      <!-- 3. Logo (centro) -->
      <div class="navbar-logo">
        <img src="assets/images/logo.svg" alt="Logo IPV">
      </div><!-- navbar-logo !-->
      
      <!-- 4. Menu Hamburger (direita) -->
      <button class="navbar-toggle" @click="menuAberto = !menuAberto" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button><!-- navbar-toggle !-->
      
      <!-- Menu de Navega√ß√£o (aparece ao clicar no hamburger) -->
      <ul class="navbar-menu" :class="{ 'aberto': menuAberto }">
        <li class="navbar-item"><a href="#inicio" @click="fecharMenu">In√≠cio</a></li>
        <li class="navbar-item"><a href="#sobre" @click="fecharMenu">Sobre</a></li>
        
        <!-- Dropdown: Conte√∫do -->
        <li class="navbar-item navbar-dropdown" x-data="{ dropdown: false }">
          <a href="#" @click.prevent="dropdown = !dropdown" class="navbar-dropdown-toggle">
            Conte√∫do
            <span class="material-icons" style="font-size: 1rem; vertical-align: middle;" x-text="dropdown ? 'expand_less' : 'expand_more'">
            </span>
          </a>
          <ul class="navbar-submenu" x-show="dropdown" @click.away="dropdown = false" x-transition>
            <li><a href="#" @click.prevent="$dispatch('abrir-modal-visitante'); fecharMenu(); dropdown = false">Quero visitar</a></li>
            <li><a href="#devocionais" @click="fecharMenu; dropdown = false">Devocionais</a></li>
            <li><a href="#videos" @click="fecharMenu; dropdown = false">Cultos</a></li>
            <li><a href="#programacao" @click="fecharMenu; dropdown = false">Programa√ß√£o</a></li>
            <li><a href="#catecumenos" @click="fecharMenu; dropdown = false">Catec√∫menos</a></li>
            <li><a href="#noticias-ipb" @click="fecharMenu; dropdown = false">Not√≠cias IPB</a></li>
            <li><a href="#cremos" @click="fecharMenu; dropdown = false">O Que Cremos</a></li>
            <li><a href="#" @click.prevent="baixarMidias(); fecharMenu(); dropdown = false">M√≠dias</a></li>
          </ul>
        </li><!-- navbar-dropdown !-->
        
        <li class="navbar-item"><a href="#contribuicoes" @click="fecharMenu">Contribuir</a></li>
        <li class="navbar-item"><a href="#localizacao" @click="fecharMenu">Localiza√ß√£o</a></li>
        <li class="navbar-item"><a href="#contato" @click="fecharMenu">Contato</a></li>
      </ul><!-- navbar-menu !-->
      
    </div><!-- navbar-container !-->
  </nav><!-- navbar !-->
  
  <!-- ==================== HERO SECTION ==================== -->
  <section id="inicio" class="hero">
    <img src="assets/images/foto-igreja.png" alt="Igreja Presbiteriana Vida" class="hero-background">
    <div class="hero-overlay"></div>
    
    <div class="hero-conteudo fade-in">
      <img src="assets/images/logo-branco.svg" width="350" alt="logo branca">
      <p class="hero-subtitulo">
        Uma comunidade de f√©, esperan√ßa e amor
        Venha nos visitar e conhecer mais sobre Jesus Cristo
      </p>
      
      <div class="hero-botoes">
        <button @click="$dispatch('abrir-modal-visitante')" class="botao botao-secundario botao-grande">
          Quero visitar
        </button>
        <a href="#localizacao" class="botao botao-primario botao-grande">
          Como chegar
        </a>
          <a href="#sobre" class="botao botao-primario botao-grande">
          Sobre N√≥s
        </a>
        
        <!-- Bot√£o PWA Install - s√≥ aparece quando pode instalar -->
        <button 
          id="pwa-install-btn" 
          class="botao botao-especial botao-grande"
          style="display: none;"
          @click="instalarApp()"
        >
          <i class="bi bi-download"></i>
          Baixar App
        </button>
      </div><!-- hero-botoes !-->
    </div><!-- hero-conteudo !-->
  </section><!-- hero !-->
  
  <!-- ==================== SOBRE ==================== -->
  <section id="sobre" class="secao">
    <div class="container">
      <h2 class="secao-titulo scroll-reveal">Bem-vindo √† IPV</h2>
      <p class="secao-subtitulo scroll-reveal">
        Somos uma igreja reformada comprometida com a Palavra de Deus e a transforma√ß√£o de vidas
      </p>
      
      <div class="grid grid-3">
        <div class="card scroll-reveal delay-1">
          <div class="card-corpo">
            <h3 class="card-titulo">Nossa Miss√£o</h3>
            <p class="card-texto">
              Proclamar o Evangelho de Jesus Cristo, fazer disc√≠pulos e glorificar a Deus 
              atrav√©s do ensino fiel das Escrituras.
            </p>
          </div><!-- card-corpo !-->
        </div><!-- card !-->
        
        <div class="card scroll-reveal delay-2">
          <div class="card-corpo">
            <h3 class="card-titulo">Nossa Vis√£o</h3>
            <p class="card-texto">
              Ser uma comunidade acolhedora onde pessoas encontram vida em Cristo e 
              crescem em santidade e amor ao pr√≥ximo.
            </p>
          </div><!-- card-corpo !-->
        </div><!-- card !-->
        
        <div class="card scroll-reveal delay-3">
          <div class="card-corpo">
            <h3 class="card-titulo">Nossos Valores</h3>
            <p class="card-texto">
              Fidelidade √† Escritura, adora√ß√£o reverente, comunh√£o genu√≠na, evangeliza√ß√£o 
              e servi√ßo ao pr√≥ximo com amor.
            </p>
          </div><!-- card-corpo !-->
        </div><!-- card !-->
      </div><!-- grid !-->
    </div><!-- container !-->
  </section><!-- sobre !-->
  
  <!-- ==================== DEVOCIONAIS COM CARROSSEL ==================== -->
  <section id="devocionais" class="secao" style="background: var(--cinza-muito-claro);">
    <div class="container">
      <h2 class="secao-titulo">Devocional</h2>
      <p class="secao-subtitulo">
        Alimente sua f√© com a Palavra de Deus todos os dias
      </p>
      
      <!-- Devocional Di√°rio -->
      <div x-data="devocionalDiario()" x-init="carregar()">
        <template x-if="devocional">
          <div class="devocional-card">
            <img 
              :src="devocional.imagem" 
              :alt="'Devocional: ' + devocional.titulo" 
              class="devocional-imagem" 
              :key="devocional.id"
              @error="$event.target.style.opacity='0'"
              :style="devocional.imagem && devocional.imagem.startsWith('data:') ? 'object-fit:cover;' : ''"
            >
            <div class="devocional-conteudo">
              <div class="devocional-texto" :class="{ 'expandido': textoExpandido }">
                <p x-text="textoExibido"></p>
              </div>
              <button 
                x-show="devocional.texto.length > 350" 
                @click="textoExpandido = !textoExpandido"
                class="botao botao-pequeno botao-outline"
                style="margin-top: 15px;">
                <span x-text="textoExpandido ? 'Ver Menos' : 'Ver Mais'"></span>
              </button>
            </div>
          </div>
        </template>
      </div>
      
      <div class="carrossel-devocionais" x-data="carrosselDevocionais()" style="margin-top: 60px;">
        <div class="carrossel-slides">
          <!-- Slide 1: Vers√≠culo do Dia -->
          <div class="carrossel-slide" :class="{ 'ativo': slideAtual === 0 }">
            <h3 class="carrossel-tipo">Vers√≠culo do Dia</h3>
            <blockquote class="carrossel-versiculo" x-text="versiculoDia.texto"></blockquote>
            <cite class="carrossel-referencia" x-text="versiculoDia.referencia"></cite>
          </div><!-- carrossel-slide !-->
          
          <!-- Slide 2: Salmo do Dia -->
          <div class="carrossel-slide" :class="{ 'ativo': slideAtual === 1 }">
            <h3 class="carrossel-tipo">Salmo do Dia</h3>
            <blockquote class="carrossel-versiculo" x-text="salmoDia.texto"></blockquote>
            <cite class="carrossel-referencia" x-text="salmoDia.referencia"></cite>
          </div><!-- carrossel-slide !-->
          
          <!-- Slide 3: Prov√©rbio do Dia -->
          <div class="carrossel-slide" :class="{ 'ativo': slideAtual === 2 }">
            <h3 class="carrossel-tipo">Prov√©rbio do Dia</h3>
            <blockquote class="carrossel-versiculo" x-text="proberbioDia.texto"></blockquote>
            <cite class="carrossel-referencia" x-text="proberbioDia.referencia"></cite>
          </div><!-- carrossel-slide !-->
        </div><!-- carrossel-slides !-->
        
        <div class="carrossel-controles">
          <button class="carrossel-botao" @click="anterior()" aria-label="Anterior">
            &#8249;
          </button>
          
          <div class="carrossel-indicadores">
            <template x-for="(slide, index) in 3" :key="index">
              <button 
                class="carrossel-indicador" 
                :class="{ 'ativo': slideAtual === index }"
                @click="irPara(index)"
                :aria-label="'Ir para slide ' + (index + 1)">
              </button>
            </template>
          </div><!-- carrossel-indicadores !-->
          
          <button class="carrossel-botao" @click="proximo()" aria-label="Pr√≥ximo">
            &#8250;
          </button>
        </div><!-- carrossel-controles !-->
      </div><!-- carrossel-devocionais !-->
      
      <div class="text-center mt-4">
        <a href="https://www.bibliaonline.com.br" target="_blank" rel="noopener noreferrer" 
           class="botao botao-outline">
          <span class="material-icons" style="vertical-align: middle;">menu_book</span> Ler a B√≠blia Completa Online
        </a>
      </div>
    </div><!-- container !-->
  </section><!-- devocionais !-->
  
  <!-- ==================== V√çDEOS / CULTOS ==================== -->
  <section id="videos" class="secao">
    <div class="container" x-data="videosYoutubeMelhorado()">
      <h2 class="secao-titulo">Nossos Cultos</h2>
      <p class="secao-subtitulo">
        Assista aos cultos e estudos b√≠blicos em nosso canal do YouTube
      </p>
      
      <!-- Controles de Visualiza√ß√£o -->
      <div class="videos-controles">
        <div class="videos-acoes-esquerda">
          <button 
            @click="assistirAoVivo()" 
            class="botao"
            :class="live && live.aoVivo ? 'botao-live' : 'botao-secundario'"
          >
            <span class="material-icons">
              <span x-text="live && live.aoVivo ? 'sensors' : 'videocam_off'"></span>
            </span>
            <span x-text="live && live.aoVivo ? 'üî¥ AO VIVO' : 'Sem transmiss√£o'"></span>
          </button>
        </div>
        
        <div class="videos-modos">
          <button 
            @click="mudarModo('grid')" 
            class="modo-btn" 
            :class="{'ativo': modoVisualizacao === 'grid'}"
            title="Grade 2x3"
          >
            <i class="bi bi-grid-3x2-gap"></i>
          </button>
          <button 
            @click="mudarModo('lista')" 
            class="modo-btn" 
            :class="{'ativo': modoVisualizacao === 'lista'}"
            title="Lista"
          >
            <i class="bi bi-list-ul"></i>
          </button>
          <button 
            @click="mudarModo('cheio')" 
            class="modo-btn" 
            :class="{'ativo': modoVisualizacao === 'cheio'}"
            title="Cards grandes"
          >
            <i class="bi bi-square"></i>
          </button>
        </div>
        
        <button @click="inscreverCanal()" class="botao botao-primario">
          <i class="bi bi-youtube"></i>
          Inscrever-se
        </button>
      </div>
      
      <!-- Modal Live Player -->
      <div 
        x-show="modalLiveAberto" 
        @click.away="fecharModalLive()"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in duration-200"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        class="modal-overlay modal-video"
        x-cloak
      >
        <div @click.stop class="modal-video-container">
          <button @click="fecharModalLive()" class="modal-fechar" aria-label="Fechar">
            <i class="bi bi-x-lg"></i>
          </button>
          
          <div class="video-player-wrapper">
            <iframe 
              :src="live && live.embedUrl ? live.embedUrl : (live && live.videoId ? 'https://www.youtube.com/embed/' + live.videoId + '?autoplay=1' : '')"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
            ></iframe>
          </div>
          
          <div class="modal-video-info">
            <h3>
              <span class="live-indicator" x-show="live && live.aoVivo">üî¥</span>
              <span x-text="live && live.titulo ? live.titulo : 'Transmiss√£o ao vivo'"></span>
            </h3>
            <p>Transmiss√£o do canal @ipbvida</p>
          </div>
        </div>
      </div>
      
      <!-- Grade de V√≠deos -->
      <div 
        class="videos-grid"
        :class="{
          'modo-grid': modoVisualizacao === 'grid',
          'modo-lista': modoVisualizacao === 'lista',
          'modo-cheio': modoVisualizacao === 'cheio'
        }"
      >
        <!-- Skeleton Loading - Grid -->
        <template x-if="carregando && modoVisualizacao === 'grid'">
          <div class="skeleton-container-grid">
            <template x-for="i in 6" :key="'skel-grid-' + i">
              <div class="video-skeleton video-skeleton-grid">
                <div class="skeleton-thumb"></div>
                <div class="skeleton-overlay">
                  <div class="skeleton-line skeleton-date"></div>
                  <div class="skeleton-play"></div>
                  <div class="skeleton-line skeleton-title"></div>
                </div>
              </div>
            </template>
          </div>
        </template>
        
        <!-- Skeleton Loading - Lista -->
        <template x-if="carregando && modoVisualizacao === 'lista'">
          <div class="skeleton-container-lista">
            <template x-for="i in 4" :key="'skel-list-' + i">
              <div class="video-skeleton video-skeleton-lista">
                <div class="skeleton-thumb-lista"></div>
                <div class="skeleton-detalhes">
                  <div class="skeleton-line skeleton-title-lg"></div>
                  <div class="skeleton-line skeleton-desc"></div>
                  <div class="skeleton-line skeleton-desc"></div>
                  <div class="skeleton-meta">
                    <div class="skeleton-line skeleton-date-sm"></div>
                    <div class="skeleton-line skeleton-duration"></div>
                  </div>
                </div>
              </div>
            </template>
          </div>
        </template>
        
        <!-- Skeleton Loading - Cheio -->
        <template x-if="carregando && modoVisualizacao === 'cheio'">
          <div class="skeleton-container-cheio">
            <template x-for="i in 3" :key="'skel-full-' + i">
              <div class="video-skeleton video-skeleton-cheio">
                <div class="skeleton-thumb-cheio"></div>
                <div class="skeleton-overlay-cheio">
                  <div class="skeleton-line skeleton-date"></div>
                  <div class="skeleton-play-lg"></div>
                  <div class="skeleton-line skeleton-title-xl"></div>
                </div>
              </div>
            </template>
          </div>
        </template>
        
        <!-- V√≠deos Reais - Grid (4x3 desktop, 2x3 mobile) -->
        <template x-if="!carregando && modoVisualizacao === 'grid'">
          <template x-for="video in videosPaginados" :key="'grid-' + video.id">
            <a :href="video.url" target="_blank" class="video-card video-card-grid">
                <div class="video-thumb">
                  <img :src="video.thumbnail" :alt="video.titulo" loading="lazy">
                  <div class="video-overlay">
                    <!-- Data: canto SUPERIOR ESQUERDO -->
                    <span class="video-data" x-text="formatarData(video.data)"></span>
                    <!-- YouTube: canto SUPERIOR DIREITO -->
                    <i class="bi bi-youtube video-yt-icon"></i>
                    <!-- Play: CENTRO -->
                    <div class="video-play"><i class="bi bi-play-fill"></i></div>
                    <!-- T√≠tulo: INFERIOR CENTRO -->
                    <span class="video-titulo" x-text="video.titulo"></span>
                    <!-- Dura√ß√£o: canto INFERIOR DIREITO -->
                    <span class="video-duracao" x-text="video.duracao || '‚Äî'"></span>
                  </div>
                </div>
            </a>
          </template>
        </template>
        
        <!-- V√≠deos Reais - Lista -->
        <template x-if="!carregando && modoVisualizacao === 'lista'">
          <template x-for="video in videosPaginados" :key="'list-' + video.id">
            <a :href="video.url" target="_blank" class="video-card video-card-lista">
                <div class="video-thumb-lista">
                  <img :src="video.thumbnail" :alt="video.titulo" loading="lazy">
                  <div class="video-play-sm"><i class="bi bi-play-fill"></i></div>
                  <span class="video-duracao" x-show="video.duracao" x-text="video.duracao"></span>
                </div>
                <div class="video-detalhes">
                  <h4 class="video-titulo-lista" x-text="video.titulo"></h4>
                  <p class="video-descricao" x-text="video.descricao || 'Assista a este v√≠deo no nosso canal do YouTube'"></p>
                  <div class="video-meta-lista">
                    <span class="video-data-lista">
                      <i class="bi bi-calendar3"></i>
                      <span x-text="formatarData(video.data)"></span>
                    </span>
                    <span class="video-canal">
                      <i class="bi bi-youtube"></i>
                      @ipbvida
                    </span>
                  </div>
                </div>
            </a>
          </template>
        </template>
        
        <!-- V√≠deos Reais - Cheio (Cards Grandes) -->
        <template x-if="!carregando && modoVisualizacao === 'cheio'">
          <template x-for="video in videosPaginados" :key="'full-' + video.id">
            <a :href="video.url" target="_blank" class="video-card video-card-cheio">
                <div class="video-thumb-cheio">
                  <img :src="video.thumbnail" :alt="video.titulo" loading="lazy">
                  <div class="video-overlay-cheio">
                    <span class="video-data-cheio" x-text="formatarData(video.data)"></span>
                    <div class="video-play-cheio"><i class="bi bi-play-fill"></i></div>
                    <div class="video-info-cheio">
                      <i class="bi bi-youtube video-yt-icon-cheio"></i>
                      <h3 class="video-titulo-cheio" x-text="video.titulo"></h3>
                      <p class="video-desc-cheio" x-text="video.descricao || ''"></p>
                    </div>
                  </div>
                  <span class="video-duracao-cheio" x-show="video.duracao" x-text="video.duracao"></span>
                </div>
            </a>
          </template>
        </template>
      </div>
      
      <!-- Mensagem se n√£o houver v√≠deos -->
      <div x-show="!carregando && videos.length === 0" class="videos-vazio">
        <i class="bi bi-camera-video-off"></i>
        <p>Nenhum v√≠deo dispon√≠vel no momento</p>
        <button @click="carregarVideos()" class="botao botao-secundario">
          <i class="bi bi-arrow-clockwise"></i>
          Tentar novamente
        </button>
      </div>
      
      <!-- Pagina√ß√£o -->
      <div x-show="!carregando && totalPaginas > 1" class="videos-paginacao">
        <button 
          @click="paginaAnterior()" 
          :disabled="paginaAtual === 1"
          class="paginacao-btn"
        >
          <i class="bi bi-chevron-left"></i>
        </button>
        
        <template x-for="pagina in totalPaginas" :key="pagina">
          <button 
            @click="irParaPagina(pagina)"
            class="paginacao-btn"
            :class="{'ativo': paginaAtual === pagina}"
            x-text="pagina"
          ></button>
        </template>
        
        <button 
          @click="proximaPagina()" 
          :disabled="paginaAtual === totalPaginas"
          class="paginacao-btn"
        >
          <i class="bi bi-chevron-right"></i>
        </button>
      </div>
      
      <div class="text-center mt-4">
        <a href="https://youtube.com/@ipbvida" target="_blank" class="botao botao-secundario botao-grande">
          <i class="bi bi-youtube"></i>
          Ver Todos os V√≠deos no YouTube
        </a>
      </div>
    </div>
  </section>
  
  <!-- ==================== PROGRAMA√á√ÉO ==================== -->
  <section id="programacao" class="secao" style="background: var(--branco);">
    <div class="container">
      <h2 class="secao-titulo">Programa√ß√£o</h2>
      <p class="secao-subtitulo">
        Confira a programa√ß√£o completa da nossa igreja
      </p>
      
      <div class="programacao-grid" x-data="programacaoIgreja()">
        <!-- Coluna 1: Carrossel de Programa√ß√£o -->
        <div class="carrossel-programacao">
          <div class="carrossel-programacao-slides" x-show="programasCarrossel.length > 0">
            <template x-for="(programa, index) in programasCarrossel" :key="programa.id">
              <div class="card-programacao-vertical" :class="{ 'ativo': slideAtual === index }" @click="mostrarDetalhes(programa)">
                <div class="card-programacao-imagem-full" :style="`background: linear-gradient(135deg, ${programa.cor1 || '#1A4731'}dd, ${programa.cor2 || '#2D5F4A'}dd);`">
                  <img 
                    :src="programa.imagem" 
                    :alt="programa.titulo" 
                    class="programacao-icone-grande" 
                    @error="$event.target.style.opacity='0'"
                    :style="programa.imagem && programa.imagem.startsWith('data:') ? 'width:100%;height:100%;object-fit:cover;' : ''"
                  >
                  <!-- Mobile: toque para ver detalhes -->
                  <div class="programacao-toque-mobile">
                    <i class="bi bi-hand-index"></i>
                    <span>Toque para ver detalhes</span>
                  </div>
                  <!-- Desktop: clique para ver detalhes -->
                  <div class="programacao-clique-desktop">
                    <i class="bi bi-cursor"></i>
                    <span>Clique para ver detalhes</span>
                  </div>
                  <!-- Info overlay (detalhes no card) -->
                  <div class="programacao-info-overlay">
                    <span class="programacao-categoria" x-text="programa.categoria"></span>
                    <h3 class="programacao-titulo-card" x-text="programa.titulo"></h3>
                    <div class="programacao-data-hora">
                      <span><i class="bi bi-calendar3"></i> <span x-text="programa.dia + ' ' + programa.mes"></span></span>
                      <span><i class="bi bi-clock"></i> <span x-text="programa.horario"></span></span>
                    </div>
                  </div>
                </div>
              </div>
            </template>
          </div>
          
          <!-- Mensagem se n√£o houver programas -->
          <div x-show="programasCarrossel.length === 0" class="programacao-vazia">
            <i class="bi bi-calendar-x"></i>
            <p>Nenhuma programa√ß√£o dispon√≠vel no momento</p>
          </div>
          
          <!-- Controles do Carrossel -->
          <div class="carrossel-programacao-controles" x-show="programasCarrossel.length > 1">
            <button @click="anteriorSlide()" class="carrossel-seta-prog">
              <span class="material-icons">chevron_left</span>
            </button>
            <div class="carrossel-programacao-indicadores">
              <template x-for="(programa, index) in programasCarrossel" :key="'ind-' + programa.id">
                <button 
                  @click="slideAtual = index" 
                  class="indicador-prog"
                  :class="{ 'ativo': slideAtual === index }"
                  :aria-label="'Slide ' + (index + 1)">
                </button>
              </template>
            </div>
            <button @click="proximoSlide()" class="carrossel-seta-prog">
              <span class="material-icons">chevron_right</span>
            </button>
          </div>
        </div>
        
        <!-- Modal de Detalhes da Programa√ß√£o -->
        <div x-show="programaSelecionado" class="modal-overlay" @click.self="fecharDetalhes()" x-cloak>
          <div class="modal-programacao" @click.stop>
            <button @click="fecharDetalhes()" class="modal-fechar">
              <i class="bi bi-x-lg"></i>
            </button>
            <div class="modal-programacao-conteudo" x-show="programaSelecionado">
              <div class="modal-programacao-header" :style="`background: linear-gradient(135deg, ${programaSelecionado?.cor1 || '#1A4731'}, ${programaSelecionado?.cor2 || '#2D5F4A'})`">
                <span class="modal-categoria" x-text="programaSelecionado?.categoria"></span>
                <h2 x-text="programaSelecionado?.titulo"></h2>
              </div>
              <div class="modal-programacao-body">
                <!-- Grid: Data, Hor√°rio, Local em linha -->
                <div class="modal-info-grid">
                  <div class="modal-info-item">
                    <i class="bi bi-calendar-event"></i>
                    <strong>Data</strong>
                    <span x-text="(programaSelecionado?.dia || '') + ' ' + (programaSelecionado?.mes || '')"></span>
                  </div>
                  <div class="modal-info-item">
                    <i class="bi bi-clock"></i>
                    <strong>Hor√°rio</strong>
                    <span x-text="programaSelecionado?.horario || 'A definir'"></span>
                  </div>
                  <div class="modal-info-item">
                    <i class="bi bi-geo-alt"></i>
                    <strong>Local</strong>
                    <span x-text="programaSelecionado?.local || 'Igreja'"></span>
                  </div>
                </div>
                <!-- Descri√ß√£o -->
                <div class="modal-descricao" x-show="programaSelecionado?.descricao">
                  <strong>Descri√ß√£o</strong>
                  <p x-text="programaSelecionado?.descricao"></p>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Coluna 2: Lista Completa com Scroll -->
        <div class="programacao-lista">
          <h3 class="lista-titulo">Todas as Programa√ß√µes</h3>
          <div class="lista-scroll">
            <template x-for="(programa, index) in programas" :key="programa.id">
              <div 
                @click="slideAtual = index < 6 ? index : slideAtual" 
                class="programa-item" 
                :class="{ 'destaque': slideAtual === index && index < 6 }"
                :style="index < 6 ? 'cursor: pointer;' : ''">
                <div class="programa-data-badge">
                  <div class="badge-dia" x-text="programa.dia"></div>
                  <div class="badge-mes" x-text="programa.mes"></div>
                </div>
                <div class="programa-info">
                  <h4 class="programa-titulo" x-text="programa.titulo"></h4>
                  <p class="programa-detalhes">
                    <span class="material-icons">schedule</span>
                    <span x-text="programa.horario"></span>
                    <span class="separador">‚Ä¢</span>
                    <span class="material-icons">place</span>
                    <span x-text="programa.local"></span>
                  </p>
                  <span class="programa-categoria" :style="`background: ${programa.corCategoria}`" x-text="programa.categoria"></span>
                </div>
                <span class="material-icons programa-seta" x-show="index < 6">chevron_right</span>
              </div>
            </template>
          </div>
        </div>
      </div>
    </div><!-- container !-->
  </section><!-- programacao !-->
  
  <!-- ==================== NOT√çCIAS IPB ==================== -->
  <section id="noticias-ipb" class="secao" style="background: var(--cinza-muito-claro);">
    <div class="container" x-data="noticiasIPB()">
      <h2 class="secao-titulo">Not√≠cias da IPB</h2>
      <p class="secao-subtitulo">
        Fique por dentro das √∫ltimas not√≠cias da Igreja Presbiteriana do Brasil
      </p>
      
      <div class="noticias-grid">
        <template x-show="carregando">
          <div class="loading-spinner">Carregando not√≠cias...</div>
        </template>
        
        <template x-for="noticia in noticias" :key="noticia.id">
          <a :href="noticia.link" target="_blank" class="noticia-card">
            <div class="noticia-imagem-container">
              <img :src="noticia.imagem" :alt="noticia.titulo" class="noticia-imagem">
              <span class="noticia-categoria" x-text="noticia.categoria"></span>
            </div>
            <div class="noticia-conteudo">
              <span class="noticia-data" x-text="formatarData(noticia.dataPublicacao)"></span>
              <h3 class="noticia-titulo" x-text="noticia.titulo"></h3>
              <p class="noticia-descricao" x-text="noticia.descricao"></p>
              <div class="noticia-link-wrapper">
                <span class="noticia-link-texto">Ler mais</span>
                <span class="material-icons">arrow_forward</span>
              </div>
            </div>
          </a>
        </template>
      </div><!-- noticias-grid !-->
      
      <div class="text-center mt-4">
        <a href="https://ipb.org.br" target="_blank" class="botao botao-secundario botao-grande">
          <span class="material-icons" style="vertical-align: middle;">language</span>
          Visitar Site da IPB
        </a>
      </div>
    </div><!-- container !-->
  </section><!-- noticias-ipb !-->
  
  <!-- ==================== O QUE CREMOS ==================== -->
  <section id="cremos" class="secao" style="background: var(--cinza-muito-claro);">
    <div class="container">
      <h2 class="secao-titulo">O Que Cremos</h2>
      <p class="secao-subtitulo">
        Nossa f√© est√° firmada nas doutrinas b√≠blicas e reformadas
      </p>
      
      <!-- Bot√£o App S√≠mbolos de F√© -->
      <div style="text-align: center; margin-bottom: var(--espacamento-lg);">
        <a href="https://play.google.com/store/apps/details?id=br.com.maartins.sfipb&hl=pt_BR" 
           target="_blank" 
           rel="noopener noreferrer"
           class="botao botao-primario"
           style="display: inline-flex; align-items: center; gap: 10px; font-size: 1rem;">
          <i class="bi bi-download"></i>
          App S√≠mbolos de F√© IPB
          <i class="bi bi-google-play"></i>
        </a>
        <p style="margin-top: var(--espacamento-xs); color: var(--cinza-medio); font-size: 0.875rem;">
          Acesse a Confiss√£o de F√©, Catecismos e documentos doutrin√°rios no seu celular
        </p>
      </div>
      
      <div style="max-width: 900px; margin: 0 auto;" x-data="{ aberto: null }">
        <!-- Escrituras -->
        <div class="card">
          <div class="card-corpo">
            <h3 class="card-titulo" @click="aberto = aberto === 1 ? null : 1" style="cursor: pointer; display: flex; justify-content: space-between; align-items: center;">
              <span style="display: flex; align-items: center; gap: 8px;"><span class="material-icons">menu_book</span>Escrituras Sagradas</span>
              <span x-text="aberto === 1 ? '‚àí' : '+'"></span>
            </h3>
            <div x-show="aberto === 1" x-collapse>
              <p class="card-texto">
                Cremos que a B√≠blia √© a Palavra de Deus inspirada, inerrante e infal√≠vel. 
                √â a √∫nica regra de f√© e pr√°tica, suficiente para ensinar o caminho da salva√ß√£o 
                e orientar o crist√£o em toda boa obra.
              </p>
              <p class="card-texto">
                <em>"Toda Escritura √© inspirada por Deus e √∫til para o ensino, para a repreens√£o, 
                para a corre√ß√£o, para a educa√ß√£o na justi√ßa" (2 Tim√≥teo 3:16)</em>
              </p>
            </div>
          </div><!-- card-corpo !-->
        </div><!-- card !-->
        
        <!-- Trindade -->
        <div class="card">
          <div class="card-corpo">
            <h3 class="card-titulo" @click="aberto = aberto === 2 ? null : 2" style="cursor: pointer; display: flex; justify-content: space-between; align-items: center;">
              <span style="display: flex; align-items: center; gap: 8px;"><span class="material-icons">church</span>A Sant√≠ssima Trindade</span>
              <span x-text="aberto === 2 ? '‚àí' : '+'"></span>
            </h3>
            <div x-show="aberto === 2" x-collapse>
              <p class="card-texto">
                Cremos em um s√≥ Deus eternamente subsistente em tr√™s pessoas: Pai, Filho e Esp√≠rito Santo. 
                S√£o iguais em poder e gl√≥ria, mas distintas em fun√ß√£o na obra de cria√ß√£o, reden√ß√£o e 
                santifica√ß√£o.
              </p>
              <p class="card-texto">
                <em>"Batizando-os em nome do Pai, e do Filho, e do Esp√≠rito Santo" (Mateus 28:19)</em>
              </p>
            </div>
          </div><!-- card-corpo !-->
        </div><!-- card !-->
        
        <!-- Salva√ß√£o -->
        <div class="card">
          <div class="card-corpo">
            <h3 class="card-titulo" @click="aberto = aberto === 3 ? null : 3" style="cursor: pointer; display: flex; justify-content: space-between; align-items: center;">
              <span style="display: flex; align-items: center; gap: 8px;"><span class="material-icons">volunteer_activism</span>Salva√ß√£o pela Gra√ßa</span>
              <span x-text="aberto === 3 ? '‚àí' : '+'"></span>
            </h3>
            <div x-show="aberto === 3" x-collapse>
              <p class="card-texto">
                Cremos que a salva√ß√£o √© pela gra√ßa somente, atrav√©s da f√© somente, em Cristo somente. 
                Ningu√©m pode salvar-se por obras ou m√©ritos pr√≥prios. √â um dom gratuito de Deus para 
                aqueles que se arrependem e creem no Senhor Jesus.
              </p>
              <p class="card-texto">
                <em>"Porque pela gra√ßa sois salvos, mediante a f√©; e isto n√£o vem de v√≥s; √© dom de Deus" 
                (Ef√©sios 2:8)</em>
              </p>
            </div>
          </div><!-- card-corpo !-->
        </div><!-- card !-->
        
        <!-- Igreja -->
        <div class="card">
          <div class="card-corpo">
            <h3 class="card-titulo" @click="aberto = aberto === 4 ? null : 4" style="cursor: pointer; display: flex; justify-content: space-between; align-items: center;">
              <span style="display: flex; align-items: center; gap: 8px;"><span class="material-icons">account_balance</span>A Igreja de Cristo</span>
              <span x-text="aberto === 4 ? '‚àí' : '+'"></span>
            </h3>
            <div x-show="aberto === 4" x-collapse>
              <p class="card-texto">
                Cremos que a Igreja √© o corpo de Cristo, composta por todos os verdadeiros crentes de 
                todas as √©pocas. A igreja local √© uma comunidade de f√© onde os santos se re√∫nem para 
                adora√ß√£o, edifica√ß√£o m√∫tua e miss√£o.
              </p>
              <p class="card-texto">
                <em>"Cristo amou a igreja e a si mesmo se entregou por ela" (Ef√©sios 5:25)</em>
              </p>
            </div>
          </div><!-- card-corpo !-->
        </div><!-- card !-->
        
        <!-- Volta de Cristo -->
        <div class="card">
          <div class="card-corpo">
            <h3 class="card-titulo" @click="aberto = aberto === 5 ? null : 5" style="cursor: pointer; display: flex; justify-content: space-between; align-items: center;">
              <span style="display: flex; align-items: center; gap: 8px;"><span class="material-icons">brightness_5</span>A Volta de Cristo</span>
              <span x-text="aberto === 5 ? '‚àí' : '+'"></span>
            </h3>
            <div x-show="aberto === 5" x-collapse>
              <p class="card-texto">
                Cremos na volta pessoal, vis√≠vel e gloriosa de Jesus Cristo. Ele julgar√° vivos e mortos, 
                estabelecer√° Seu reino eterno, e haver√° novos c√©us e nova terra onde habita a justi√ßa.
              </p>
              <p class="card-texto">
                <em>"Este Jesus que dentre v√≥s foi assunto ao c√©u, assim vir√° do modo como o vistes subir" 
                (Atos 1:11)</em>
              </p>
            </div>
          </div><!-- card-corpo !-->
        </div><!-- card !-->
        
        <!-- Os 5 Pontos do Calvinismo -->
        <div style="margin-top: var(--espacamento-xl); text-align: center;">
          <h3 style="color: var(--verde-escuro); margin-bottom: var(--espacamento-lg); font-size: 1.5rem;">
            Os Cinco Pontos do Calvinismo
          </h3>
          <p style="color: var(--cinza-medio); margin-bottom: var(--espacamento-xl);">
            As doutrinas da gra√ßa que fundamentam nossa compreens√£o da salva√ß√£o
          </p>
        </div>
        
        <!-- 1. Deprava√ß√£o Total -->
        <div class="card">
          <div class="card-corpo">
            <h3 class="card-titulo" @click="aberto = aberto === 6 ? null : 6" style="cursor: pointer; display: flex; justify-content: space-between; align-items: center;">
              <span style="display: flex; align-items: center; gap: 8px;"><span class="material-icons">warning</span>1. Deprava√ß√£o Total</span>
              <span x-text="aberto === 6 ? '‚àí' : '+'"></span>
            </h3>
            <div x-show="aberto === 6" x-collapse>
              <p class="card-texto">
                O homem em seu estado natural √© completamente incapaz de fazer qualquer coisa que agrade a Deus. 
                Todos os aspectos da natureza humana foram afetados pelo pecado, tornando-nos mortos espiritualmente 
                e incapazes de buscar a Deus por nossa pr√≥pria vontade.
              </p>
              <p class="card-texto">
                <em>"N√£o h√° justo, nem um sequer, n√£o h√° quem entenda, n√£o h√° quem busque a Deus" (Romanos 3:10-11)</em>
              </p>
            </div>
          </div><!-- card-corpo !-->
        </div><!-- card !-->
        
        <!-- 2. Elei√ß√£o Incondicional -->
        <div class="card">
          <div class="card-corpo">
            <h3 class="card-titulo" @click="aberto = aberto === 7 ? null : 7" style="cursor: pointer; display: flex; justify-content: space-between; align-items: center;">
              <span style="display: flex; align-items: center; gap: 8px;"><span class="material-icons">how_to_vote</span>2. Elei√ß√£o Incondicional</span>
              <span x-text="aberto === 7 ? '‚àí' : '+'"></span>
            </h3>
            <div x-show="aberto === 7" x-collapse>
              <p class="card-texto">
                Deus escolheu desde a eternidade aqueles que seriam salvos, n√£o baseado em qualquer m√©rito 
                ou obra prevista neles, mas somente por Sua gra√ßa e soberana vontade. Esta escolha √© 
                incondicional e imut√°vel.
              </p>
              <p class="card-texto">
                <em>"Assim como nos escolheu nele antes da funda√ß√£o do mundo, para sermos santos e irrepreens√≠veis 
                perante ele; e em amor nos predestinou para ele" (Ef√©sios 1:4-5)</em>
              </p>
            </div>
          </div><!-- card-corpo !-->
        </div><!-- card !-->
        
        <!-- 3. Expia√ß√£o Limitada -->
        <div class="card">
          <div class="card-corpo">
            <h3 class="card-titulo" @click="aberto = aberto === 8 ? null : 8" style="cursor: pointer; display: flex; justify-content: space-between; align-items: center;">
              <span style="display: flex; align-items: center; gap: 8px;"><span class="material-icons">favorite</span>3. Expia√ß√£o Limitada</span>
              <span x-text="aberto === 8 ? '‚àí' : '+'"></span>
            </h3>
            <div x-show="aberto === 8" x-collapse>
              <p class="card-texto">
                Cristo morreu especificamente pelos eleitos. Sua morte foi suficiente para todos, 
                mas eficaz somente para aqueles que Deus escolheu. Jesus garantiu a salva√ß√£o 
                definitiva de Seu povo atrav√©s de Seu sacrif√≠cio.
              </p>
              <p class="card-texto">
                <em>"O bom Pastor d√° a vida pelas ovelhas" (Jo√£o 10:11). "Cristo amou a igreja 
                e se entregou por ela" (Ef√©sios 5:25)</em>
              </p>
            </div>
          </div><!-- card-corpo !-->
        </div><!-- card !-->
        
        <!-- 4. Gra√ßa Irresist√≠vel -->
        <div class="card">
          <div class="card-corpo">
            <h3 class="card-titulo" @click="aberto = aberto === 9 ? null : 9" style="cursor: pointer; display: flex; justify-content: space-between; align-items: center;">
              <span style="display: flex; align-items: center; gap: 8px;"><span class="material-icons">bolt</span>4. Gra√ßa Irresist√≠vel</span>
              <span x-text="aberto === 9 ? '‚àí' : '+'"></span>
            </h3>
            <div x-show="aberto === 9" x-collapse>
              <p class="card-texto">
                Quando Deus chama eficazmente uma pessoa para a salva√ß√£o, ela n√£o pode resistir. 
                O Esp√≠rito Santo regenera o cora√ß√£o, concedendo f√© e arrependimento, fazendo com que 
                o eleito venha volunt√°ria e alegremente a Cristo.
              </p>
              <p class="card-texto">
                <em>"Todo aquele que o Pai me d√°, esse vir√° a mim; e o que vem a mim, 
                de modo nenhum o lan√ßarei fora" (Jo√£o 6:37)</em>
              </p>
            </div>
          </div><!-- card-corpo !-->
        </div><!-- card !-->
        
        <!-- 5. Perseveran√ßa dos Santos -->
        <div class="card">
          <div class="card-corpo">
            <h3 class="card-titulo" @click="aberto = aberto === 10 ? null : 10" style="cursor: pointer; display: flex; justify-content: space-between; align-items: center;">
              <span style="display: flex; align-items: center; gap: 8px;"><span class="material-icons">shield</span>5. Perseveran√ßa dos Santos</span>
              <span x-text="aberto === 10 ? '‚àí' : '+'"></span>
            </h3>
            <div x-show="aberto === 10" x-collapse>
              <p class="card-texto">
                Aqueles que foram verdadeiramente salvos perseverar√£o na f√© at√© o fim. Deus preserva 
                Seus eleitos, garantindo que n√£o perder√£o a salva√ß√£o. Esta √© uma obra do pr√≥prio Deus, 
                n√£o dependendo da for√ßa humana.
              </p>
              <p class="card-texto">
                <em>"Estou certo de que aquele que come√ßou boa obra em v√≥s h√° de complet√°-la at√© ao dia de Cristo Jesus" 
                (Filipenses 1:6). "As minhas ovelhas ouvem a minha voz; eu as conhe√ßo, e elas me seguem. 
                Eu lhes dou a vida eterna; jamais perecer√£o, e ningu√©m as arrebatar√° da minha m√£o" (Jo√£o 10:27-28)</em>
              </p>
            </div>
          </div><!-- card-corpo !-->
        </div><!-- card !-->
      </div>
      
      <div class="text-center mt-5">
        <a href="pagina/confissao-fe.html" class="botao botao-primario botao-grande">
          <span class="material-icons" style="vertical-align: middle;">description</span> Continuar lendo
        </a>
      </div>
    </div><!-- container !-->
  </section><!-- cremos !-->
  
  <!-- ==================== CONTRIBUI√á√ïES ==================== -->
  <section id="contribuicoes" class="secao" x-data="contribuicoesIgreja()" x-init="init()">
    <div class="container">
      <h2 class="secao-titulo">Contribui√ß√µes</h2>
      <p class="secao-subtitulo" x-text="dados.informacoes?.mensagem">
        Sua contribui√ß√£o ajuda a manter e expandir a obra de Deus
      </p>
      
      <div class="contribuicoes-content">
        <div class="qrcode-container">
          <h5 style="margin-bottom: var(--espacamento-md);">PIX QR Code</h5>
          <img :src="dados.qrcode?.imagemUrl || 'assets/images/pix.png'" alt="QR Code PIX" class="qrcode-imagem">
          <p style="margin-top: var(--espacamento-sm); color: var(--cinza-medio);" x-text="dados.qrcode?.instrucoes">
            Escaneie o QR Code acima com seu app banc√°rio
          </p>
        </div><!-- qrcode-container !-->
        
        <div class="dados-bancarios">
          <h3>Dados Banc√°rios</h3>
          <p><strong x-text="dados.contaBancaria?.favorecido">Igreja Presbiteriana Vida</strong></p>
          <p><strong>CNPJ:</strong> <span x-text="dados.contaBancaria?.cnpj">00.000.000/0001-00</span></p>
          <p><strong>Banco:</strong> <span x-text="dados.contaBancaria?.banco?.nome + ' (' + dados.contaBancaria?.banco?.codigo + ')'">Banco do Brasil (001)</span></p>
          <p><strong>Ag√™ncia:</strong> <span x-text="dados.contaBancaria?.agencia">0000-0</span></p>
          <p><strong>Conta Corrente:</strong> <span x-text="dados.contaBancaria?.conta">00000-0</span></p>
          <p><strong>PIX (<span x-text="dados.pix?.tipo">CNPJ</span>):</strong> <span x-text="dados.pix?.chave">00.000.000/0001-00</span></p>
          
          <div class="mt-3">
            <button class="botao botao-secundario" @click="copiarChavePix()">
              <span class="material-icons" style="vertical-align: middle;">content_copy</span> Copiar Chave PIX
            </button>
          </div>
        </div><!-- dados-bancarios !-->
      </div><!-- contribuicoes-content !-->
    </div><!-- container !-->
  </section><!-- contribuicoes !-->
  
  <!-- ==================== LOCALIZA√á√ÉO ==================== -->
  <section id="localizacao" class="secao" style="background: var(--cinza-muito-claro);" x-data="localizacaoIgreja()" x-init="init(); window.abrirGoogleMaps = abrirGoogleMaps">
    <div class="container">
      <h2 class="secao-titulo">Localiza√ß√£o</h2>
      <p class="secao-subtitulo">
        Venha nos visitar! Voc√™ √© sempre bem-vindo
      </p>
      
      <div class="localizacao-content">
        <div class="mapa-container">
          <iframe :src="dados.localizacao?.googleMapsEmbed" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div><!-- mapa-container !-->
        
        <div class="info-localizacao">
          <h3>Conhe√ßa nossa igreja</h3>
          <p>
            <strong><span class="material-icons" style="vertical-align: middle; font-size: 1.1em;">location_on</span> Endere√ßo:</strong><br>
            <span x-text="dados.endereco?.logradouro + ', ' + dados.endereco?.numero"></span>
            <span x-text="dados.endereco?.bairro"></span>
            <span x-text="dados.endereco?.cidade + ' - ' + dados.endereco?.estado"></span><br>
            <span x-text="'CEP: ' + dados.endereco?.cep"></span>
          </p>
          
          <p>
            <strong><span class="material-icons" style="vertical-align: middle; font-size: 1.1em;">phone</span> Telefone:</strong><br>
            <span x-text="dados.contato?.telefone"></span>
          </p>
          
          <div class="botoes-navegacao">
            <button class="botao-navegacao maps" @click="abrirGoogleMaps()">
              <span class="material-icons">map</span>
              Google Maps
            </button>
            <button class="botao-navegacao waze" @click="window.open(dados.localizacao?.wazeUrl, '_blank')">
              <span class="material-icons">navigation</span>
              Waze
            </button>
            <button class="botao-navegacao uber" @click="window.open(dados.localizacao?.uberUrl, '_blank')">
              <span class="material-icons">directions_car</span>
              Uber
            </button>
          </div><!-- botoes-navegacao !-->
          
          <div class="horarios-cultos">
            <h4 style="margin-bottom: var(--espacamento-xs); display: flex; align-items: center; gap: 8px;">
              <span class="material-icons">schedule</span>Hor√°rios dos Cultos
            </h4>
            <template x-for="culto in dados.horarios?.cultos" :key="culto.dia">
              <p><strong x-text="culto.dia + ':'"></strong> <span x-text="culto.horario"></span></p>
            </template>
            <p style="margin-top: var(--espacamento-sm);">
              <strong>Pastor:</strong> <span x-text="dados.lideranca?.pastor?.nome"></span><br>
              <a :href="dados.lideranca?.pastor?.instagramUrl" target="_blank" x-text="dados.lideranca?.pastor?.instagram"></a>
            </p>
          </div><!-- horarios-cultos !-->
        </div><!-- info-localizacao !-->
      </div><!-- localizacao-content !-->
    </div><!-- container !-->
  </section><!-- localizacao !-->
  
  <!-- ==================== CATEC√öMENOS ==================== -->
  <section id="catecumenos" class="secao secao-catecumenos" style="background: linear-gradient(135deg, var(--verde-escuro) 0%, var(--verde-medio) 100%);">
    <div class="container">
      <h2 class="secao-titulo" style="color: var(--branco);">Classe de Catec√∫menos</h2>
      <p class="secao-subtitulo" style="color: rgba(255,255,255,0.9);">
        Deseja conhecer mais sobre a f√© crist√£ reformada? Escolha uma turma e inscreva-se!
      </p>
      
      <div class="catecumenos-sistema" x-data="inscricaoCatecumeno()">
        
        <!-- ========== TELA 1: CARDS DE TURMAS ========== -->
        <div x-show="tela === 'turmas'" x-transition>
          
          <!-- Loading -->
          <div x-show="carregandoTurmas" class="turmas-loading">
            <div class="loading-spinner"></div>
            <p>Carregando turmas dispon√≠veis...</p>
          </div>
          
          <!-- Nenhuma turma -->
          <div x-show="!carregandoTurmas && turmas.length === 0" class="turmas-vazio">
            <i class="bi bi-calendar-x" style="font-size: 4rem; opacity: 0.5;"></i>
            <h3>Nenhuma turma dispon√≠vel</h3>
            <p>No momento n√£o h√° turmas de catec√∫menos abertas. Volte em breve!</p>
          </div>
          
          <!-- Grid de Turmas -->
          <div x-show="!carregandoTurmas && turmas.length > 0" class="turmas-grid">
            <template x-for="turma in turmas" :key="turma.id">
              <div class="turma-card" :class="{'turma-lotada': turma.vagas_disponiveis <= 0}">
                
                <!-- Header do Card -->
                <div class="turma-card-header">
                  <div class="turma-status" :class="'status-' + getStatusTurma(turma)">
                    <span x-text="getStatusTextoTurma(turma)"></span>
                  </div>
                  <div class="turma-vagas">
                    <span class="vagas-numero" x-text="turma.inscritos"></span>
                    <span class="vagas-total">/ <span x-text="turma.vagas"></span></span>
                    <span class="vagas-texto">inscritos</span>
                  </div>
                </div>
                
                <!-- Corpo do Card -->
                <div class="turma-card-body">
                  <h3 class="turma-nome" x-text="turma.nome"></h3>
                  <p class="turma-descricao" x-text="turma.descricao || 'Classe de forma√ß√£o para novos membros'"></p>
                  
                  <div class="turma-detalhes">
                    <div class="turma-detalhe">
                      <i class="bi bi-calendar3"></i>
                      <span>In√≠cio: <strong x-text="formatarData(turma.data_inicio)"></strong></span>
                    </div>
                    <div class="turma-detalhe" x-show="turma.dia_semana">
                      <i class="bi bi-clock"></i>
                      <span x-text="formatarDiaSemana(turma.dia_semana) + (turma.horario ? ', ' + turma.horario : '')"></span>
                    </div>
                    <div class="turma-detalhe" x-show="turma.local">
                      <i class="bi bi-geo-alt"></i>
                      <span x-text="turma.local"></span>
                    </div>
                    <div class="turma-detalhe" x-show="turma.instrutor">
                      <i class="bi bi-person-badge"></i>
                      <span x-text="turma.instrutor"></span>
                    </div>
                  </div>
                </div>
                
                <!-- Footer do Card -->
                <div class="turma-card-footer">
                  
                  <!-- Mensagem de disponibilidade (quando inscrito mas n√£o √© o hor√°rio) -->
                  <div 
                    x-show="estaInscritoNaTurma(turma.id) && !podeAcessarSala(turma)" 
                    class="turma-aviso-horario"
                    x-transition
                  >
                    <i class="bi bi-info-circle"></i>
                    <span x-text="getMensagemDisponibilidade(turma)"></span>
                  </div>
                  
                  <div class="turma-acoes">
                    <!-- Bot√£o Principal Inteligente -->
                    <button 
                      @click="acaoPrincipal(turma)" 
                      class="botao botao-turma"
                      :class="{
                        'botao-primario': usuarioLogado() && estaInscritoNaTurma(turma.id) && podeAcessarSala(turma),
                        'botao-secundario': !usuarioLogado() || (estaInscritoNaTurma(turma.id) && !podeAcessarSala(turma)),
                        'botao-desabilitado': botaoDesabilitado(turma)
                      }"
                      :disabled="botaoDesabilitado(turma)"
                    >
                      <i class="bi" :class="'bi-' + getIconeBotao(turma)"></i>
                      <span x-text="getTextoBotao(turma)"></span>
                    </button>
                    
                    <!-- Bot√£o WhatsApp (se inscrito e tem link) -->
                    <template x-if="estaInscritoNaTurma(turma.id) && turma.link_whatsapp">
                      <button 
                        @click="entrarGrupoWhatsApp(turma)" 
                        class="botao botao-whatsapp-turma"
                        title="Entrar no grupo do WhatsApp da turma"
                      >
                        <i class="bi bi-whatsapp"></i>
                        <span>Grupo WhatsApp</span>
                      </button>
                    </template>
                  </div>
                </div>
              </div>
            </template>
          </div>
        </div>
        
        <!-- ========== TELA 2: FORMUL√ÅRIO ========== -->
        <div x-show="tela === 'formulario'" x-transition class="catecumenos-formulario-wrapper">
          
          <!-- Bot√£o Voltar -->
          <button @click="voltarParaTurmas()" class="btn-voltar-turmas">
            <i class="bi bi-arrow-left"></i> Voltar √†s turmas
          </button>
          
          <!-- Turma Selecionada -->
          <div class="turma-selecionada-info" x-show="turmaSelecionada">
            <i class="bi bi-bookmark-check-fill"></i>
            <div>
              <small>Inscrevendo-se em:</small>
              <strong x-text="turmaSelecionada?.nome"></strong>
            </div>
          </div>
          
          <div class="catecumenos-card">
            <!-- Indicador de Progresso -->
            <div class="progresso-etapas">
              <div class="progresso-barra">
                <div class="progresso-preenchido" :style="'width: ' + getProgressoPercentual() + '%'"></div>
              </div>
              <div class="progresso-etapas-num">
                <span :class="{'ativo': etapaAtual >= 1}">1</span>
                <span :class="{'ativo': etapaAtual >= 2}">2</span>
                <span :class="{'ativo': etapaAtual >= 3}">3</span>
              </div>
            </div>
            
            <!-- Etapa 1: Dados Pessoais -->
            <div x-show="etapaAtual === 1" x-transition>
              <h3 class="etapa-titulo"><i class="bi bi-person"></i> Dados Pessoais</h3>
              
              <div class="form-grid">
                <div class="formulario-grupo">
                  <label class="formulario-label">Nome Completo *</label>
                  <input type="text" class="formulario-input" x-model="formulario.nome"
                    :class="{'erro': erros.nome}" placeholder="Seu nome completo">
                  <span class="erro-msg" x-show="erros.nome" x-text="erros.nome"></span>
                </div>
                
                <div class="formulario-grupo">
                  <label class="formulario-label">Telefone *</label>
                  <input type="tel" class="formulario-input" x-model="formulario.telefone"
                    @input="formatarTelefone($event)" :class="{'erro': erros.telefone}" placeholder="(00) 00000-0000">
                  <span class="erro-msg" x-show="erros.telefone" x-text="erros.telefone"></span>
                </div>
                
                <div class="formulario-grupo">
                  <label class="formulario-label">E-mail</label>
                  <input type="email" class="formulario-input" x-model="formulario.email"
                    :class="{'erro': erros.email}" placeholder="seu@email.com">
                  <span class="erro-msg" x-show="erros.email" x-text="erros.email"></span>
                </div>
                
                <div class="formulario-grupo">
                  <label class="formulario-label">Data de Nascimento</label>
                  <input type="date" class="formulario-input" x-model="formulario.data_nascimento">
                </div>
                
                <div class="formulario-grupo full-width">
                  <label class="formulario-label">Endere√ßo</label>
                  <input type="text" class="formulario-input" x-model="formulario.endereco" placeholder="Rua, n√∫mero, bairro">
                </div>
              </div>
              
              <div class="etapa-acoes">
                <div></div>
                <button type="button" @click="proximaEtapa()" class="botao botao-primario">
                  Pr√≥ximo <i class="bi bi-arrow-right"></i>
                </button>
              </div>
            </div>
            
            <!-- Etapa 2: Informa√ß√µes Complementares -->
            <div x-show="etapaAtual === 2" x-transition>
              <h3 class="etapa-titulo"><i class="bi bi-info-circle"></i> Sobre Voc√™</h3>
              
              <div class="form-grid">
                <div class="formulario-grupo">
                  <label class="formulario-label">Estado Civil</label>
                  <select class="formulario-input" x-model="formulario.estado_civil">
                    <option value="">Selecione...</option>
                    <option value="solteiro">Solteiro(a)</option>
                    <option value="casado">Casado(a)</option>
                    <option value="divorciado">Divorciado(a)</option>
                    <option value="viuvo">Vi√∫vo(a)</option>
                  </select>
                </div>
                
                <div class="formulario-grupo">
                  <label class="formulario-label">Profiss√£o</label>
                  <input type="text" class="formulario-input" x-model="formulario.profissao" placeholder="Sua profiss√£o">
                </div>
                
                <div class="formulario-grupo full-width">
                  <label class="formulario-label">Como conheceu a IP Vida?</label>
                  <input type="text" class="formulario-input" x-model="formulario.como_conheceu" placeholder="Internet, indica√ß√£o de amigo, etc.">
                </div>
                
                <div class="formulario-grupo full-width">
                  <label class="checkbox-label">
                    <input type="checkbox" x-model="formulario.ja_batizado">
                    <span>J√° fui batizado(a) em outra igreja</span>
                  </label>
                </div>
                
                <div class="formulario-grupo full-width" x-show="formulario.ja_batizado">
                  <label class="formulario-label">Em qual igreja?</label>
                  <input type="text" class="formulario-input" x-model="formulario.igreja_anterior" placeholder="Nome da igreja">
                </div>
                
                <div class="formulario-grupo full-width">
                  <label class="formulario-label">O que te motiva a fazer parte desta classe? *</label>
                  <textarea class="formulario-input" x-model="formulario.motivacao" :class="{'erro': erros.motivacao}"
                    rows="3" placeholder="Conte-nos um pouco sobre sua motiva√ß√£o..."></textarea>
                  <span class="erro-msg" x-show="erros.motivacao" x-text="erros.motivacao"></span>
                </div>
              </div>
              
              <div class="etapa-acoes">
                <button type="button" @click="etapaAnterior()" class="botao botao-secundario">
                  <i class="bi bi-arrow-left"></i> Voltar
                </button>
                <button type="button" @click="proximaEtapa()" class="botao botao-primario">
                  Pr√≥ximo <i class="bi bi-arrow-right"></i>
                </button>
              </div>
            </div>
            
            <!-- Etapa 3: Confirma√ß√£o -->
            <div x-show="etapaAtual === 3" x-transition>
              <h3 class="etapa-titulo"><i class="bi bi-check-circle"></i> Confirma√ß√£o</h3>
              
              <div class="formulario-grupo">
                <label class="formulario-label">Disponibilidade de hor√°rio</label>
                <textarea class="formulario-input" x-model="formulario.disponibilidade" rows="2"
                  placeholder="Quais dias e hor√°rios voc√™ tem disponibilidade?"></textarea>
              </div>
              
              <div class="formulario-grupo">
                <label class="checkbox-label termos">
                  <input type="checkbox" x-model="formulario.aceita_termos">
                  <span>Li e concordo com os termos de participa√ß√£o da classe de catec√∫menos</span>
                </label>
                <span class="erro-msg" x-show="erros.aceita_termos" x-text="erros.aceita_termos"></span>
              </div>
              
              <div x-show="erro" class="alerta alerta-erro">
                <i class="bi bi-exclamation-circle"></i>
                <span x-text="erro"></span>
              </div>
              
              <div class="etapa-acoes">
                <button type="button" @click="etapaAnterior()" class="botao botao-secundario">
                  <i class="bi bi-arrow-left"></i> Voltar
                </button>
                <button type="button" @click="enviarInscricao()" class="botao botao-primario" :disabled="carregando">
                  <template x-if="carregando">
                    <span><i class="bi bi-arrow-repeat spin"></i> Enviando...</span>
                  </template>
                  <template x-if="!carregando">
                    <span><i class="bi bi-check2"></i> Enviar Inscri√ß√£o</span>
                  </template>
                </button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- ========== TELA 3: SUCESSO ========== -->
        <div x-show="tela === 'sucesso'" x-transition class="catecumenos-sucesso">
          <div class="sucesso-icone">
            <i class="bi bi-check-circle-fill"></i>
          </div>
          <h3>Inscri√ß√£o Enviada!</h3>
          <p>
            Obrigado pelo seu interesse! Sua inscri√ß√£o para a turma 
            <strong x-text="turmaSelecionada?.nome || 'selecionada'"></strong> foi recebida com sucesso. 
            Em breve entraremos em contato pelo telefone informado.
          </p>
          <button @click="reiniciar()" class="botao botao-secundario">
            <i class="bi bi-arrow-counterclockwise"></i> Ver Outras Turmas
          </button>
        </div>
        
      </div>
    </div>
  </section><!-- catecumenos !-->
  
  <!-- ==================== CONTATO ==================== -->
  <section id="contato" class="secao">
    <div class="container">
      <h2 class="secao-titulo">Entre em Contato</h2>
      <p class="secao-subtitulo">
        Envie sua mensagem, d√∫vida ou pedido de ora√ß√£o
      </p>
      
      <div style="max-width: 700px; margin: 0 auto;">
        <form x-data="formularioContato()" @submit.prevent="enviar()">
          <div class="formulario-grupo">
            <label class="formulario-label" for="nome">Nome Completo *</label>
            <input type="text" id="nome" class="formulario-input" x-model="dados.nome" required>
          </div>
          
          <div class="formulario-grupo">
            <label class="formulario-label" for="email">E-mail *</label>
            <input type="email" id="email" class="formulario-input" x-model="dados.email" required>
          </div>
          
          <div class="formulario-grupo">
            <label class="formulario-label" for="telefone">Telefone</label>
            <input type="tel" id="telefone" class="formulario-input" x-model="dados.telefone">
          </div>
          
          <div class="formulario-grupo">
            <label class="formulario-label" for="assunto">Assunto *</label>
            <select id="assunto" class="formulario-select" x-model="dados.assunto" required>
              <option value="">Selecione...</option>
              <option value="duvida">D√∫vida sobre a Igreja</option>
              <option value="visita">Quero visitar</option>
              <option value="oracao">Pedido de Ora√ß√£o</option>
              <option value="batismo">Batismo</option>
              <option value="casamento">Casamento</option>
              <option value="outro">Outro Assunto</option>
            </select>
          </div>
          
          <div class="formulario-grupo">
            <label class="formulario-label" for="mensagem">Mensagem *</label>
            <textarea id="mensagem" class="formulario-textarea" x-model="dados.mensagem" required></textarea>
          </div>
          
          <!-- Mensagens de Status -->
          <div x-show="mensagemErro" class="alerta alerta-erro" x-text="mensagemErro"></div>
          <div x-show="mensagemSucesso" class="alerta alerta-sucesso">
            ‚úÖ Mensagem enviada com sucesso! Entraremos em contato em breve.
          </div>
          
          <button type="submit" class="botao botao-primario botao-grande" 
                  style="width: 100%;" 
                  :disabled="enviando">
            <span x-show="!enviando">
              <span class="material-icons" style="vertical-align: middle;">send</span> Enviar Mensagem
            </span>
            <span x-show="enviando">
              <span class="material-icons" style="vertical-align: middle; animation: spin 1s linear infinite;">refresh</span> Enviando...
            </span>
          </button>
        </form>
      </div>
    </div><!-- container !-->
  </section><!-- contato !-->
  
  <!-- ==================== FOOTER ==================== -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-secao">
          <img src="assets/images/logo-branco.svg" alt="Logo IPV" style="height: 60px; margin-bottom: var(--espacamento-md);">
          <p style="color: var(--cinza-leve); line-height: 1.8;">
            Igreja Presbiteriana Vida<br>
            Uma comunidade reformada<br>
            comprometida com Cristo e Sua Palavra
          </p>
        </div><!-- footer-secao !-->
        
        <div class="footer-secao">
          <h4>Links R√°pidos</h4>
          <ul class="footer-links">
            <li><a href="#" @click.prevent="$dispatch('abrir-modal-visitante')">Quero visitar</a></li>
            <li><a href="#sobre">Sobre N√≥s</a></li>
            <li><a href="#devocionais">Devocionais</a></li>
            <li><a href="#programacao">Programa√ß√£o</a></li>
            <li><a href="pagina/confissao-fe.html">Confiss√£o de F√©</a></li>
            <li><a href="#contribuicoes">Contribuir</a></li>
          </ul>
        </div><!-- footer-secao !-->
        
        <div class="footer-secao">
          <h4>Cultos</h4>
          <ul class="footer-links">
            <li>Sexta-feira: 20h</li>
            <li>Domingo: 10h</li>
            <li><a href="tel:+5519995161006">(19) 99516-1006</a></li>
          </ul>
        </div><!-- footer-secao !-->
        
        <div class="footer-secao" x-data="redesSociaisFooter()">
          <h4>Redes Sociais</h4>
          <div class="footer-redes-sociais">
            <!-- Skeleton loading -->
            <template x-if="carregando">
              <div class="redes-loading">
                <span class="skeleton" style="width:40px;height:40px;border-radius:50%;"></span>
                <span class="skeleton" style="width:40px;height:40px;border-radius:50%;"></span>
                <span class="skeleton" style="width:40px;height:40px;border-radius:50%;"></span>
              </div>
            </template>
            <!-- Redes sociais din√¢micas do banco de dados -->
            <template x-if="!carregando">
              <template x-for="rede in redes" :key="rede.id || rede.nome">
                <a 
                  :href="rede.url" 
                  target="_blank" 
                  class="footer-rede-social" 
                  :aria-label="rede.nome"
                  :title="rede.nome"
                >
                  <i :class="'bi ' + getIcone(rede)"></i>
                </a>
              </template>
            </template>
          </div><!-- footer-redes-sociais !-->
        </div><!-- footer-secao !-->
      </div><!-- footer-content !-->
      
      <div class="footer-bottom">
        <p>¬© 2025 Igreja Presbiteriana Vida. Todos os direitos reservados.</p>
        <p>Desenvolvido por Matheus bonotto da squidev.com.br para a gl√≥ria de Deus</p>
        <div class="footer-legal">
          <a href="#" @click.prevent="$dispatch('abrir-modal', {tipo: 'privacidade'})">Pol√≠tica de Privacidade</a>
          <span>‚Ä¢</span>
          <a href="#" @click.prevent="$dispatch('abrir-modal', {tipo: 'termos'})">Termos de Servi√ßo</a>
        </div>
      </div><!-- footer-bottom !-->
    </div><!-- container !-->
  </footer><!-- footer !-->
  
  <!-- ==================== BOT√ïES ACESSIBILIDADE ==================== -->
  <div class="acessibilidade-container" x-data="acessibilidade()" @click.away="menuAberto = false">
    
    <!-- Bot√µes Expandidos (aparecem acima) -->
    <div class="acessibilidade-botoes-expandidos" x-show="menuAberto" x-transition>
      <button class="botao-acessibilidade" @click="aumentarFonte()" title="Aumentar Fonte" aria-label="Aumentar fonte">
        <span style="font-size: 1.5rem; font-weight: bold;">A+</span>
      </button>
      
      <button class="botao-acessibilidade" @click="diminuirFonte()" title="Diminuir Fonte" aria-label="Diminuir fonte">
        <span style="font-size: 1rem; font-weight: bold;">A-</span>
      </button>
      
      <button class="botao-acessibilidade" @click="toggleContraste()" title="Alto Contraste" aria-label="Alto contraste" :class="{ 'ativo': contrasteAtivo }">
        <span class="material-icons">contrast</span>
      </button>
      
      <button class="botao-acessibilidade" @click="toggleNarracao()" title="Narrar P√°gina" aria-label="Narrar p√°gina" :class="{ 'ativo': narracaoAtiva }">
        <span class="material-icons">volume_up</span>
      </button>
    </div><!-- acessibilidade-botoes-expandidos !-->
    
    <!-- Bot√£o Principal (sempre vis√≠vel) -->
    <button 
      class="botao-acessibilidade botao-acessibilidade-principal" 
      @click="menuAberto = !menuAberto" 
      :class="{ 'ativo': menuAberto }"
      title="Menu de Acessibilidade" 
      aria-label="Menu de acessibilidade">
      <span class="material-icons">accessibility</span>
    </button>
    
    <!-- VLibras -->
    <div vw class="enabled">
      <div vw-access-button class="active"></div>
      <div vw-plugin-wrapper></div>
    </div>
  </div><!-- acessibilidade-container !-->
  
  <!-- ==================== MODAL VISITANTE ==================== -->
  <div 
    x-data="modalVisitante()" 
    x-init="console.log('‚úÖ Modal Visitante inicializado!')"
    @abrir-modal-visitante.window="abrirModal()"
    x-show="modalAberto" 
    x-transition
    class="modal-overlay"
    @click.self="fecharModal()"
    x-cloak>
    
    <div class="modal-conteudo" @click.stop>
      <button @click="fecharModal()" class="modal-fechar">
        <span class="material-icons">close</span>
      </button>
      
      <div class="modal-header">
        <span class="material-icons" style="font-size: 3rem; color: var(--verde-medio);">waving_hand</span>
        <h2>Queremos te conhecer!</h2>
        <p>Preencha os dados abaixo e aguardaremos voc√™ de bra√ßos abertos üôè</p>
      </div>
      
      <form @submit.prevent="salvarVisitante()" class="modal-form">
        <div class="form-grupo">
          <label for="nome-visitante">
            <span class="material-icons">person</span>
            Seu nome completo *
          </label>
          <input 
            type="text" 
            id="nome-visitante"
            x-model="visitante.nome" 
            placeholder="Ex: Jo√£o da Silva"
            required
            minlength="3">
        </div>
        
        <div class="form-grupo">
          <label for="data-visita">
            <span class="material-icons">calendar_today</span>
            Quando pretende nos visitar? *
          </label>
          <input 
            type="date" 
            id="data-visita"
            x-model="visitante.dataVisita" 
            :min="dataMinima"
            required>
        </div>
        
        <div class="form-grupo">
          <label for="telefone-visitante">
            <span class="material-icons">phone</span>
            Telefone (opcional)
          </label>
          <input 
            type="tel" 
            id="telefone-visitante"
            x-model="visitante.telefone" 
            placeholder="(00) 00000-0000">
        </div>
        
        <div class="form-grupo">
          <label for="mensagem-visitante">
            <span class="material-icons">message</span>
            Mensagem (opcional)
          </label>
          <textarea 
            id="mensagem-visitante"
            x-model="visitante.mensagem" 
            placeholder="Conte-nos um pouco sobre voc√™ ou alguma d√∫vida..."
            rows="3"></textarea>
        </div>
        
        <div class="modal-acoes">
          <button type="button" @click="fecharModal()" class="botao botao-secundario">
            Cancelar
          </button>
          <button type="submit" class="botao botao-primario" :disabled="salvando">
            <span x-show="!salvando">Confirmar Visita</span>
            <span x-show="salvando">Salvando...</span>
          </button>
        </div>
      </form>
      
      <div x-show="mensagemSucesso" x-transition class="mensagem-sucesso">
        <span class="material-icons">check_circle</span>
        <p><strong>Cadastro realizado com sucesso!</strong></p>
        <p>Aguardamos voc√™ no dia <span x-text="formatarData(visitante.dataVisita)"></span></p>
      </div>
    </div>
  </div>
  
  <!-- ==================== MODAL TERMOS E PRIVACIDADE ==================== -->
  <div 
    x-data="modalLegal()"
    @abrir-modal.window="abrirModal($event.detail.tipo)"
    x-show="modalAberto" 
    x-transition
    class="modal-overlay"
    @click.self="fecharModal()"
    x-cloak>
    
    <div class="modal-conteudo modal-legal" @click.stop>
      <button @click="fecharModal()" class="modal-fechar">
        <span class="material-icons">close</span>
      </button>
      
      <div class="modal-header">
        <span class="material-icons" style="font-size: 3rem; color: var(--verde-medio);">
          <span x-show="tipoModal === 'privacidade'">privacy_tip</span>
          <span x-show="tipoModal === 'termos'">description</span>
        </span>
        <h2>
          <span x-show="tipoModal === 'privacidade'">Pol√≠tica de Privacidade</span>
          <span x-show="tipoModal === 'termos'">Termos de Servi√ßo</span>
        </h2>
        <p x-show="tipoModal === 'privacidade'">
          Conforme a Lei Geral de Prote√ß√£o de Dados (LGPD - Lei 13.709/2018)
        </p>
        <p x-show="tipoModal === 'termos'">
          Leia atentamente antes de utilizar nossos servi√ßos
        </p>
      </div>
      
      <!-- Conte√∫do de Privacidade -->
      <div x-show="tipoModal === 'privacidade'" class="modal-legal-conteudo">
        <div class="legal-secao">
          <h3><span class="material-icons">info</span> 1. Introdu√ß√£o</h3>
          <p>
            A <strong>Igreja Presbiteriana Vida</strong> (IPV), localizada em Campinas-SP, respeita sua privacidade 
            e est√° comprometida em proteger seus dados pessoais conforme a <strong>Lei Geral de Prote√ß√£o de Dados (LGPD)</strong>.
          </p>
        </div>

        <div class="legal-secao">
          <h3><span class="material-icons">person</span> 2. Dados que Coletamos</h3>
          <p><strong>Dados coletados quando voc√™:</strong></p>
          <ul>
            <li><strong>Visita nosso site:</strong> Endere√ßo IP, tipo de navegador, p√°ginas visitadas (via cookies t√©cnicos)</li>
            <li><strong>Preenche formul√°rio de contato:</strong> Nome, e-mail, telefone e mensagem</li>
            <li><strong>Cadastra-se como visitante:</strong> Nome, e-mail, telefone e data de visita pretendida</li>
            <li><strong>Faz login via Google:</strong> Nome, e-mail e foto de perfil (fornecidos pelo Google)</li>
            <li><strong>Contribui financeiramente:</strong> Apenas dados banc√°rios da igreja (n√£o coletamos seus dados banc√°rios)</li>
          </ul>
        </div>

        <div class="legal-secao">
          <h3><span class="material-icons">settings</span> 3. Como Usamos Seus Dados</h3>
          <p>Utilizamos seus dados pessoais para:</p>
          <ul>
            <li>Responder suas solicita√ß√µes e d√∫vidas via formul√°rio de contato</li>
            <li>Preparar sua recep√ß√£o quando voc√™ se cadastra como visitante</li>
            <li>Gerenciar seu acesso como membro ou visitante autenticado</li>
            <li>Melhorar nossos servi√ßos e experi√™ncia do usu√°rio</li>
            <li>Cumprir obriga√ß√µes legais e regulat√≥rias</li>
            <li>Enviar comunica√ß√µes sobre eventos e atividades da igreja (com seu consentimento)</li>
          </ul>
        </div>

        <div class="legal-secao">
          <h3><span class="material-icons">storage</span> 4. Armazenamento e Seguran√ßa</h3>
          <p>Seus dados s√£o armazenados de forma segura utilizando:</p>
          <ul>
            <li><strong>Supabase:</strong> Plataforma segura com criptografia de ponta a ponta</li>
            <li><strong>Row Level Security (RLS):</strong> Acesso restrito baseado em pol√≠ticas de seguran√ßa</li>
            <li><strong>Edge Functions:</strong> Processamento seguro no servidor</li>
            <li><strong>Google OAuth:</strong> Autentica√ß√£o segura via Google</li>
          </ul>
          <p>
            <strong>‚úÖ SEGURAN√áA GARANTIDA:</strong> Nenhuma credencial sens√≠vel √© exposta no c√≥digo frontend. 
            Todas as opera√ß√µes sens√≠veis s√£o realizadas via Edge Functions no servidor.
          </p>
        </div>

        <div class="legal-secao">
          <h3><span class="material-icons">share</span> 5. Compartilhamento de Dados</h3>
          <p><strong>N√£o vendemos</strong> seus dados pessoais. Compartilhamos apenas com:</p>
          <ul>
            <li><strong>Google:</strong> Para autentica√ß√£o via OAuth (apenas com seu consentimento)</li>
            <li><strong>EmailJS:</strong> Para envio de e-mails via formul√°rio de contato</li>
            <li><strong>Supabase:</strong> Como provedor de infraestrutura (conforme seu Termo de Privacidade)</li>
          </ul>
        </div>

        <div class="legal-secao">
          <h3><span class="material-icons">visibility</span> 6. Seus Direitos (LGPD)</h3>
          <p>Voc√™ tem direito a:</p>
          <ul>
            <li><strong>Acesso:</strong> Solicitar uma c√≥pia dos seus dados pessoais</li>
            <li><strong>Corre√ß√£o:</strong> Solicitar corre√ß√£o de dados incompletos ou desatualizados</li>
            <li><strong>Exclus√£o:</strong> Solicitar exclus√£o dos seus dados pessoais</li>
            <li><strong>Portabilidade:</strong> Solicitar transfer√™ncia dos seus dados para outro servi√ßo</li>
            <li><strong>Revoga√ß√£o:</strong> Retirar seu consentimento a qualquer momento</li>
            <li><strong>Oposi√ß√£o:</strong> Opor-se ao tratamento dos seus dados</li>
          </ul>
          <p>Para exercer seus direitos, entre em contato: <strong>ipvida.res.cosmos@gmail.com</strong></p>
        </div>

        <div class="legal-secao">
          <h3><span class="material-icons">cookie</span> 7. Cookies e Tecnologias</h3>
          <p>Utilizamos cookies t√©cnicos essenciais para:</p>
          <ul>
            <li>Manter sua sess√£o de autentica√ß√£o</li>
            <li>Melhorar a performance do site</li>
            <li>Personalizar sua experi√™ncia</li>
          </ul>
          <p>Voc√™ pode desabilitar cookies nas configura√ß√µes do seu navegador, mas isso pode afetar o funcionamento do site.</p>
        </div>

        <div class="legal-secao">
          <h3><span class="material-icons">update</span> 8. Atualiza√ß√µes desta Pol√≠tica</h3>
          <p>
            Podemos atualizar esta pol√≠tica periodicamente. A data da √∫ltima atualiza√ß√£o est√° indicada abaixo. 
            Recomendamos que voc√™ revise esta pol√≠tica regularmente.
          </p>
        </div>

        <div class="legal-secao">
          <h3><span class="material-icons">contact_support</span> 9. Contato</h3>
          <p>
            <strong>Controlador de Dados:</strong> Igreja Presbiteriana Vida<br>
            <strong>E-mail:</strong> ipvida.res.cosmos@gmail.com<br>
            <strong>Endere√ßo:</strong> Campinas-SP, Brasil
          </p>
        </div>

        <div class="legal-rodape">
          <p><strong>√öltima atualiza√ß√£o:</strong> Janeiro de 2025</p>
        </div>
      </div>

      <!-- Conte√∫do de Termos -->
      <div x-show="tipoModal === 'termos'" class="modal-legal-conteudo">
        <div class="legal-secao">
          <h3><span class="material-icons">gavel</span> 1. Aceita√ß√£o dos Termos</h3>
          <p>
            Ao acessar e utilizar o site da <strong>Igreja Presbiteriana Vida</strong>, voc√™ concorda em cumprir 
            e estar vinculado a estes Termos de Servi√ßo. Se voc√™ n√£o concordar com qualquer parte destes termos, 
            n√£o deve utilizar nossos servi√ßos.
          </p>
        </div>

        <div class="legal-secao">
          <h3><span class="material-icons">description</span> 2. Descri√ß√£o do Servi√ßo</h3>
          <p>O site da IPV oferece:</p>
          <ul>
            <li>Informa√ß√µes sobre a igreja e atividades</li>
            <li>Devocionais di√°rios e conte√∫do b√≠blico</li>
            <li>Transmiss√µes de cultos ao vivo e v√≠deos</li>
            <li>Programa√ß√£o de eventos e atividades</li>
            <li>Formul√°rio de contato e cadastro de visitantes</li>
            <li>√Årea restrita para membros autenticados</li>
            <li>Informa√ß√µes sobre contribui√ß√µes financeiras</li>
          </ul>
        </div>

        <div class="legal-secao">
          <h3><span class="material-icons">verified_user</span> 3. Uso Aceit√°vel</h3>
          <p>Voc√™ concorda em:</p>
          <ul>
            <li>Utilizar o site apenas para fins leg√≠timos e de acordo com estes termos</li>
            <li>N√£o tentar acessar √°reas restritas sem autoriza√ß√£o</li>
            <li>N√£o utilizar o site para atividades ilegais ou fraudulentas</li>
            <li>N√£o transmitir v√≠rus, malware ou c√≥digo malicioso</li>
            <li>Respeitar os direitos de propriedade intelectual</li>
            <li>Fornecer informa√ß√µes verdadeiras e atualizadas</li>
          </ul>
        </div>

        <div class="legal-secao">
          <h3><span class="material-icons">account_circle</span> 4. Contas de Usu√°rio</h3>
          <p>Para acessar √°reas restritas, voc√™ precisar√° criar uma conta. Voc√™ √© respons√°vel por:</p>
          <ul>
            <li>Manter a confidencialidade de suas credenciais</li>
            <li>Todas as atividades realizadas em sua conta</li>
            <li>Notificar-nos imediatamente sobre uso n√£o autorizado</li>
            <li>Fornecer informa√ß√µes precisas e atualizadas</li>
          </ul>
          <p>A IPV reserva-se o direito de suspender ou encerrar contas que violem estes termos.</p>
        </div>

        <div class="legal-secao">
          <h3><span class="material-icons">copyright</span> 5. Propriedade Intelectual</h3>
          <p>
            Todo o conte√∫do do site (textos, imagens, v√≠deos, logos) √© de propriedade da 
            <strong>Igreja Presbiteriana Vida</strong> ou de seus respectivos detentores de direitos.
          </p>
          <p>
            Voc√™ pode visualizar, baixar e imprimir conte√∫do apenas para uso pessoal e n√£o comercial. 
            Qualquer outro uso requer autoriza√ß√£o pr√©via por escrito.
          </p>
        </div>

        <div class="legal-secao">
          <h3><span class="material-icons">cancel</span> 6. Isen√ß√£o de Responsabilidade</h3>
          <p>O site √© fornecido "como est√°". A IPV n√£o garante que:</p>
          <ul>
            <li>O site estar√° sempre dispon√≠vel ou livre de erros</li>
            <li>As informa√ß√µes sejam completamente precisas ou atualizadas</li>
            <li>As transmiss√µes ao vivo funcionem sem interrup√ß√µes</li>
          </ul>
          <p>
            A IPV n√£o se responsabiliza por danos diretos, indiretos ou consequenciais decorrentes 
            do uso ou incapacidade de usar o site.
          </p>
        </div>

        <div class="legal-secao">
          <h3><span class="material-icons">link</span> 7. Links Externos</h3>
          <p>
            Nosso site pode conter links para sites de terceiros (YouTube, Instagram, etc.). 
            N√£o somos respons√°veis pelo conte√∫do ou pr√°ticas de privacidade desses sites externos.
          </p>
        </div>

        <div class="legal-secao">
          <h3><span class="material-icons">security</span> 8. Seguran√ßa</h3>
          <p>Implementamos medidas de seguran√ßa para proteger seus dados, incluindo:</p>
          <ul>
            <li>Criptografia de dados (HTTPS/SSL)</li>
            <li>Autentica√ß√£o segura via Google OAuth</li>
            <li>Row Level Security (RLS) no banco de dados</li>
            <li>Edge Functions para opera√ß√µes sens√≠veis</li>
          </ul>
          <p>No entanto, nenhum sistema √© 100% seguro. Voc√™ utiliza o site por sua pr√≥pria conta e risco.</p>
        </div>

        <div class="legal-secao">
          <h3><span class="material-icons">change_circle</span> 9. Modifica√ß√µes dos Termos</h3>
          <p>
            A IPV reserva-se o direito de modificar estes termos a qualquer momento. 
            Altera√ß√µes significativas ser√£o notificadas no site. O uso continuado do site ap√≥s 
            altera√ß√µes constitui aceita√ß√£o dos novos termos.
          </p>
        </div>

        <div class="legal-secao">
          <h3><span class="material-icons">gavel</span> 10. Lei Aplic√°vel</h3>
          <p>
            Estes termos s√£o regidos pelas leis brasileiras. Qualquer disputa ser√° resolvida 
            nos tribunais competentes de Campinas-SP, Brasil.
          </p>
        </div>

        <div class="legal-secao">
          <h3><span class="material-icons">contact_support</span> 11. Contato</h3>
          <p>
            Para quest√µes sobre estes termos, entre em contato:<br>
            <strong>E-mail:</strong> ipvida.res.cosmos@gmail.com<br>
            <strong>Igreja Presbiteriana Vida</strong><br>
            Campinas-SP, Brasil
          </p>
        </div>

        <div class="legal-rodape">
          <p><strong>√öltima atualiza√ß√£o:</strong> Janeiro de 2025</p>
        </div>
      </div>

      <div class="modal-acoes modal-acoes-legal">
        <button @click="fecharModal()" class="botao botao-primario botao-grande" style="width: 100%;">
          <span class="material-icons" style="vertical-align: middle;">check</span>
          Entendi e Concordo
        </button>
      </div>
    </div>
  </div>
  
  <!-- JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <!-- Config de produ√ß√£o (carrega primeiro para ter prioridade) -->
  <script src="js/config-prod.js"></script>
  <!-- Config de desenvolvimento (apenas localmente, n√£o vai para produ√ß√£o) -->
  <script src="js/env-dev.js" onerror="console.log('‚ö†Ô∏è env-dev.js n√£o encontrado (normal em produ√ß√£o)')"></script>
  <script src="js/config.js"></script>
  <script src="js/supabase.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/controle-acesso.js"></script>
  <script src="js/data-manager.js"></script>
  <script src="js/aplicacao.js"></script>
  <script src="js/api-integracao.js"></script>
  <script src="js/youtube-sync.js"></script>
  <script src="js/videos-melhorado.js"></script>
  <script src="js/notificacoes.js"></script>
  <script src="js/avisos-popup.js"></script>
  <script src="js/devocionais.js"></script>
  <script src="js/catecumenos.js"></script>
  <script src="js/grupos-estudo.js"></script>
  <script src="js/upload-imagens.js"></script>
  <script src="js/email-notificacoes.js"></script>
  <script src="js/interface.js"></script>
  <script src="js/acessibilidade.js"></script>
  
  <!-- Inicializar CONFIG -->
  <script>
    // Log do caminho base detectado para debug
    if (window.CONFIG) {
      window.CONFIG.logBasePath();
    }
    
    // Aguardar Supabase estar pronto e verificar sess√£o
    document.addEventListener('DOMContentLoaded', async () => {
      // Aguardar um pouco para garantir que tudo carregou
      setTimeout(async () => {
        if (window.supabaseClient && window.supabaseClient.client) {
          try {
            const { data: { session } } = await window.supabaseClient.client.auth.getSession();
            if (session) {
              console.log('‚úÖ Sess√£o Supabase detectada, atualizando navbar...');
              // Disparar evento para navbar atualizar
              window.dispatchEvent(new CustomEvent('sessao-atualizada'));
            }
          } catch (erro) {
            console.log('Verifica√ß√£o de sess√£o:', erro);
          }
        }
      }, 500);
    });
  </script>
  
  <!-- VLibras j√° inicializado no head -->
  
  <!-- PWA Install -->
  <script>
    let deferredPrompt;
    const installButton = document.getElementById('pwa-install-btn');
    
    // Detectar quando o app pode ser instalado
    window.addEventListener('beforeinstallprompt', (e) => {
      console.log('üéØ PWA pode ser instalado');
      e.preventDefault();
      deferredPrompt = e;
      
      // Mostrar bot√£o install apenas em mobile
      if (window.innerWidth <= 768) {
        installButton.style.display = 'inline-flex';
      }
    });
    
    // Fun√ß√£o para instalar o app
    window.instalarApp = async function() {
      if (!deferredPrompt) {
        console.log('‚ùå PWA n√£o dispon√≠vel para instala√ß√£o');
        return;
      }
      
      // Mostrar prompt de instala√ß√£o
      deferredPrompt.prompt();
      
      // Aguardar resposta do usu√°rio
      const { outcome } = await deferredPrompt.userChoice;
      
      if (outcome === 'accepted') {
        console.log('‚úÖ PWA instalado com sucesso');
      } else {
        console.log('‚ùå Usu√°rio cancelou a instala√ß√£o');
      }
      
      // Limpar deferredPrompt
      deferredPrompt = null;
      installButton.style.display = 'none';
    };
    
    // Detectar quando o app foi instalado
    window.addEventListener('appinstalled', () => {
      console.log('üéâ PWA foi instalado!');
      installButton.style.display = 'none';
      deferredPrompt = null;
    });
    
    // Verificar se j√° est√° instalado
    window.addEventListener('DOMContentLoaded', () => {
      if (window.matchMedia('(display-mode: standalone)').matches) {
        console.log('üì± App j√° est√° instalado');
        installButton.style.display = 'none';
      }
    });
  </script>
  
  <!-- Service Worker -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('js/service-worker.js')
        .then(reg => console.log('Service Worker registrado'))
        .catch(err => console.error('Erro ao registrar Service Worker:', err));
    }
  </script>
  
  <!-- Atualizar links dinamicamente para funcionar em dev e produ√ß√£o -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      if (window.CONFIG) {
        window.CONFIG.atualizarLinks();
      }
    });
  </script>
</body>
</html>
